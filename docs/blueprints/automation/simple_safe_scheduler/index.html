<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-blueprints/automation/simple_safe_scheduler" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Simple Safe Scheduler | Awesome HA Blueprints</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://epmatt.github.io/awesome-ha-blueprints/docs/blueprints/automation/simple_safe_scheduler"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Simple Safe Scheduler | Awesome HA Blueprints"><meta data-rh="true" name="description" content="A simple scheduler which executes a certain action at a given time, checking and eventually re-executing the action if the automation did not run at the expected time (e.g. due to a disruptive event)."><meta data-rh="true" property="og:description" content="A simple scheduler which executes a certain action at a given time, checking and eventually re-executing the action if the automation did not run at the expected time (e.g. due to a disruptive event)."><link data-rh="true" rel="icon" href="/awesome-ha-blueprints/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://epmatt.github.io/awesome-ha-blueprints/docs/blueprints/automation/simple_safe_scheduler"><link data-rh="true" rel="alternate" href="https://epmatt.github.io/awesome-ha-blueprints/docs/blueprints/automation/simple_safe_scheduler" hreflang="en"><link data-rh="true" rel="alternate" href="https://epmatt.github.io/awesome-ha-blueprints/docs/blueprints/automation/simple_safe_scheduler" hreflang="x-default"><script src="/awesome-ha-blueprints/js/google-tag-manager.js"></script><link rel="stylesheet" href="/awesome-ha-blueprints/assets/css/styles.30b821bc.css">
<script src="/awesome-ha-blueprints/assets/js/runtime~main.4ecf3359.js" defer="defer"></script>
<script src="/awesome-ha-blueprints/assets/js/main.64bdf59f.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const a=new URLSearchParams(window.location.search).entries();for(var[t,e]of a)if(t.startsWith("docusaurus-data-")){var n=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(n,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><link rel="preload" as="image" href="/awesome-ha-blueprints/img/logo.svg"><link rel="preload" as="image" href="https://my.home-assistant.io/badges/blueprint_import.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_Pz8Q" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_efFJ" style="background-color:#fffbd4;color:#091E42" role="banner"><div class="announcementBarPlaceholder_W7Uw"></div><div class="content_Rbu5 announcementBarContent_MRlS">ðŸš€ <b>Love this project?</b> <a target="_blank" href="https://github.com/EPMatt/awesome-ha-blueprints">Drop a star on GitHub</a>ðŸŒŸ or <a target="_blank" href="https://www.buymeacoffee.com/epmatt">make a small donation</a>â˜• to show your support!</div><button type="button" aria-label="Close" class="clean-btn close closeButton_GaJD announcementBarClose_CgHG"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="navbar navbar--fixed-top navbar--primary"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/awesome-ha-blueprints/"><div class="navbar__logo"><img src="/awesome-ha-blueprints/img/logo.svg" alt="Awesome HA Blueprints Logo" class="themedComponent_zltH themedComponent--light_Xq1t"><img src="/awesome-ha-blueprints/img/logo.svg" alt="Awesome HA Blueprints Logo" class="themedComponent_zltH themedComponent--dark_uXuS"></div><b class="navbar__title text--truncate">Awesome HA Blueprints</b></a><a class="navbar__item navbar__link" href="/awesome-ha-blueprints/docs/introduction/">Getting Started</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/awesome-ha-blueprints/docs/blueprints/">Blueprints</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/awesome-ha-blueprints/help">Help</a><a href="https://www.buymeacoffee.com/epmatt" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Donate<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_mA0g"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/EPMatt/awesome-ha-blueprints/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_mA0g"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_oEAh colorModeToggle_YZB8"><button class="clean-btn toggleButton_vakq toggleButtonDisabled_F6gJ" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_RF_E"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_oCc_"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_f7GF"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_YN6Q"><div class="docsWrapper_FWCa"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_nB8r" type="button"></button><div class="docRoot_GDLh"><main class="docMainContainer_geAB docMainContainerEnhanced_jMWo"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_kily"><div class="docItemContainer_kZVu"><article><div class="tocCollapsible_JtAX theme-doc-toc-mobile tocMobile_KMzy"><button type="button" class="clean-btn tocCollapsibleButton_Glbr">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Simple Safe Scheduler</h1></header><div class="card item shadow--md"><div class="card__header margin-bottom--md"><h3>Import this blueprint</h3></div><div class="card__body"><div class="row row--no-gutters"><div class="col col--12"><h5>My Home Assistant</h5><p><a href="/awesome-ha-blueprints/blueprints/automation/simple_safe_scheduler?version=latest" target="_blank" rel="noreferrer"><img src="https://my.home-assistant.io/badges/blueprint_import.svg" alt="Open your Home Assistant instance and show the blueprint import dialog with a specific blueprint pre-filled." style="width:100%;max-width:212px"></a><br></p></div></div></div></div>
<br>
<h2 class="anchor anchorWithStickyNavbar_jARI" id="description">Description<a href="#description" class="hash-link" aria-label="Direct link to Description" title="Direct link to Description">â€‹</a></h2>
<p>Scheduling a periodic action in Home Assistant might be trickier than what it looks at first glance. Not only the available automation triggers are limited to only time-based schedules (requiring the user to either use template triggers or install additional integrations for more complex scheduling options), but they also do not guarantee that the automation is executed at the provided time.</p>
<p>As an example, let&#x27;s assume automation <em>A</em> is scheduled to run at 12:00. If the Home Assistant server goes down at 11:59 due to a disruptive event (e.g. power outage, planned maintenance, hardware failure etc.) and comes back up at 12:01, the <em>A</em> automation run scheduled for 12:00 would simply be skipped, without any warning to the user.</p>
<p>The Simple Safe Scheduler blueprint tries to mitigate scheduling limitations in Home Assistant by providing an easy interface to configure periodic actions, with built-in safety checks to ensure the action actually runs even in case of a disruptive event.</p>
<p>The configured automation acts as a simple scheduler, allowing to flexibly program any kind of action based on the following parameters:</p>
<ul>
<li>Time of the day (dynamically provided as an <code>input_datetime</code> entity);</li>
<li>Day of the week (multiple days can be selected);</li>
<li>Week frequency (allowing to schedule the action to run i.e. every 2 weeks).</li>
</ul>
<p>In addition, the blueprint implements useful checks to make sure that, in case of a disruptive event (e.g power outage, Home Assistant server outage etc.) happening at the scheduled automation run time, the action is executed as soon as the system restores its state. These checks can be configured to be performed both when Home Assistant boots up and when a custom event is fired (e.g. from another automation or integration). Such safety checks might be particularly important for critical automations, which need to run as close as possible to the scheduled time (e.g. watering plants, configuring an alarm system, etc.).</p>
<h2 class="anchor anchorWithStickyNavbar_jARI" id="requirements">Requirements<a href="#requirements" class="hash-link" aria-label="Direct link to Requirements" title="Direct link to Requirements">â€‹</a></h2>
<div class="margin-bottom--lg"><div style="padding-bottom:0.8rem"><h3 style="display:inline">Input Datetime Integration<!-- --> </h3><span class="badge badge--warning"> Required</span></div><p>This integration provides the entity which represents a datetime input in Home Assistant. It should be activated by default so unless you tweaked the default configuration you&#x27;re good to go.</p><p><a href="https://www.home-assistant.io/integrations/input_datetime/" target="_blank" rel="noopener noreferrer">Input Datetime Docs</a></p></div>
<h2 class="anchor anchorWithStickyNavbar_jARI" id="inputs">Inputs<a href="#inputs" class="hash-link" aria-label="Direct link to Inputs" title="Direct link to Inputs">â€‹</a></h2>
<div class="blueprint-inputs"></div>
<h2 class="anchor anchorWithStickyNavbar_jARI" id="additional-notes">Additional Notes<a href="#additional-notes" class="hash-link" aria-label="Direct link to Additional Notes" title="Direct link to Additional Notes">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_jARI" id="helper---storage-input">Helper - Storage Input<a href="#helper---storage-input" class="hash-link" aria-label="Direct link to Helper - Storage Input" title="Direct link to Helper - Storage Input">â€‹</a></h3>
<p>The <code>helper_storage</code> (Helper - Storage) input serves as a permanent storage area for the automation. The stored info is used to implement the blueprint&#x27;s core functionality. When setting up this blueprint, manually create a new <code>input_text</code> entity and provide it in the inputs section.</p>
<div class="theme-admonition theme-admonition-caution admonition_mQu2 alert alert--warning"><div class="admonitionHeading_HeTV"><span class="admonitionIcon_CZtV"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_P4AV"><p>Make sure the text input is not altered by any other agent. The provided entity is used as a permanent storage area for just a single automation; any change to its state not carried out by the respective automation could lead to inconsistencies and unexpected behaviour. Therefore, you should create a <strong>separate text input for each automation you&#x27;re configuring with this blueprint</strong>.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_jARI" id="advanced-scheduling">Advanced scheduling<a href="#advanced-scheduling" class="hash-link" aria-label="Direct link to Advanced scheduling" title="Direct link to Advanced scheduling">â€‹</a></h3>
<p>For more advanced scheduling options you can configure multiple automation with this blueprint, having the same action but with a different scheduling configuration.
Let&#x27;s say that you want to set up an action to run every two weeks on Monday, at 12:00 and also every week on Wednesday, at 13:00. You can setup two distinct automations with the same action and the following scheduling configuration (only scheduling-relevant inputs are provided):</p>
<p>Automation 1: Every two weeks, on Monday, at 12:00:</p>
<div class="language-yaml codeBlockContainer_jkx0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_E7_2"><pre tabindex="0" class="prism-code language-yaml codeBlock_cEK2 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_XXuE"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">weeks_frequency</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">day_monday</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">time_entity</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> input_datetime.automation_1 </span><span class="token comment" style="color:#999988;font-style:italic"># its value need to be set at 12:00</span><br></span></code></pre><div class="buttonGroup__Tdi"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_n3nx" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_ZgHG"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_sVgi"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Automation 2: Every week, on Wednesday, at 13:00:</p>
<div class="language-yaml codeBlockContainer_jkx0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_E7_2"><pre tabindex="0" class="prism-code language-yaml codeBlock_cEK2 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_XXuE"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">weeks_frequency</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">day_wednesday</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">time_entity</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> input_datetime.automation_2 </span><span class="token comment" style="color:#999988;font-style:italic"># its value need to be set at 13:00</span><br></span></code></pre><div class="buttonGroup__Tdi"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_n3nx" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_ZgHG"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_sVgi"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_jARI" id="dynamic-scheduling-eg-sunrisesunset">Dynamic scheduling (e.g. sunrise/sunset)<a href="#dynamic-scheduling-eg-sunrisesunset" class="hash-link" aria-label="Direct link to Dynamic scheduling (e.g. sunrise/sunset)" title="Direct link to Dynamic scheduling (e.g. sunrise/sunset)">â€‹</a></h3>
<p>Using an <code>input_datetime</code> entity to provide the time the automation should run allows to flexibly configure the scheduled time, without providing an hardcoded value. This can be really useful when configuring schedules based on a dynamic time of the day, such as sunrise or sunset based automations. In the latter case, you can provide an <code>input_datetime</code> entity configured as follows:</p>
<div class="language-yaml codeBlockContainer_jkx0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_E7_2"><pre tabindex="0" class="prism-code language-yaml codeBlock_cEK2 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_XXuE"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># input_datetime configuration</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">input_datetime</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">automation_1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Automation 1 Execution Time</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">has_date</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">has_time</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># your automations.yaml file</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> automation_1_datetime_update</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># whenever you want to update the automation dynamic execution time</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># in this case at sunset</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">trigger</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">platform</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> sun</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">event</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> sunset</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">action</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">service</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> input_datetime.set_datetime</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">target</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">entity_id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> input_datetime.automation_1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">data</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">time</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;{{ now().strftime(&#x27;%H:%M:%S&#x27;) }}&quot;</span><br></span></code></pre><div class="buttonGroup__Tdi"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_n3nx" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_ZgHG"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_sVgi"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_jARI" id="changelog">Changelog<a href="#changelog" class="hash-link" aria-label="Direct link to Changelog" title="Direct link to Changelog">â€‹</a></h2>
<ul>
<li><strong>2021-10-22</strong>: first blueprint version <!-- -->ðŸŽ‰</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/EPMatt/awesome-ha-blueprints/edit/main/docs/blueprints/automation/simple_safe_scheduler.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_OzKF" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_RHzS"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"></nav></div></div><div class="col col--3"><div class="tableOfContents_Wsc1 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#description" class="table-of-contents__link toc-highlight">Description</a></li><li><a href="#requirements" class="table-of-contents__link toc-highlight">Requirements</a></li><li><a href="#inputs" class="table-of-contents__link toc-highlight">Inputs</a></li><li><a href="#additional-notes" class="table-of-contents__link toc-highlight">Additional Notes</a><ul><li><a href="#helper---storage-input" class="table-of-contents__link toc-highlight">Helper - Storage Input</a></li><li><a href="#advanced-scheduling" class="table-of-contents__link toc-highlight">Advanced scheduling</a></li><li><a href="#dynamic-scheduling-eg-sunrisesunset" class="table-of-contents__link toc-highlight">Dynamic scheduling (e.g. sunrise/sunset)</a></li></ul></li><li><a href="#changelog" class="table-of-contents__link toc-highlight">Changelog</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Awesome HA Blueprints is maintained by <a href="https://github.com/EPMatt">Matteo Agnoletto</a>.<br>Licensed under the <a href="https://github.com/EPMatt/awesome-ha-blueprints/blob/main/LICENSE">GPL-3.0 License</a></div></div></div></footer></div>
</body>
</html>